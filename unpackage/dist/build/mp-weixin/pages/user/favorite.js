(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/favorite"],{3318:function(t,e,n){"use strict";var o=n("82e6"),i=n.n(o);i.a},"4a5c":function(t,e,n){"use strict";n.r(e);var o=n("da5c"),i=n("8b39");for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);n("3318");var r=n("828b"),u=Object(r["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);e["default"]=u.exports},"70f4":function(t,e,n){"use strict";(function(t,e){var o=n("47a9");n("7ea0");o(n("3240"));var i=o(n("4a5c"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(i.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},"82e6":function(t,e,n){},"8b39":function(t,e,n){"use strict";n.r(e);var o=n("f4a3"),i=n.n(o);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);e["default"]=i.a},da5c:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return o}));var o={uCheckboxGroup:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-checkbox-group/u-checkbox-group")]).then(n.bind(null,"57a3"))},uCheckbox:function(){return n.e("node-modules/uview-ui/components/u-checkbox/u-checkbox").then(n.bind(null,"c24b"))},shoproMiniCard:function(){return n.e("components/shopro-mini-card/shopro-mini-card").then(n.bind(null,"b3a4"))},shoproEmpty:function(){return n.e("components/shopro-empty/shopro-empty").then(n.bind(null,"2400"))},uLoadmore:function(){return n.e("node-modules/uview-ui/components/u-loadmore/u-loadmore").then(n.bind(null,"417c"))}},i=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e,n){var o=arguments[arguments.length-1].currentTarget.dataset,i=o.eventParams||o["event-params"];n=i.f;return t.$Router.push({path:"/pages/goods/detail",query:{id:n.goods_id}})},t.e1=function(e){return t.$Router.pushTab("/pages/index/index")})},a=[]},f4a3:function(t,e,n){"use strict";var o=n("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n("af34")),a={components:{},data:function(){return{isEmpty:!1,isEdit:!1,isAllSel:!1,selList:[],favoriteList:[],total:0,loadStatus:"loadmore",currentPage:1,lastPage:1}},computed:{},onLoad:function(){this.getFavoriteList()},methods:{checkboxGroupChange:function(t){this.selList=t,this.isAllSel=this.favoriteList.every((function(t){return t.checked}))},onSet:function(){this.isEdit=!this.isEdit},onAllSel:function(t){var e=this;this.isAllSel=t.value,this.selList=[],this.favoriteList.forEach((function(n){t.value&&e.selList.push(n.goods_id),e.$set(n,"checked",t.value)}))},loadMore:function(){this.currentPage<this.lastPage&&(this.currentPage+=1,this.getFavoriteList())},getFavoriteList:function(){var t=this,e=[];t.loadStatus="loading",t.$http("user.favoriteList",{pre_page:10,page:t.currentPage}).then((function(n){1===n.code&&(t.total=n.data.total,e=n.data.data,e.map((function(e){t.$set(e,"checked",!1)})),t.favoriteList=[].concat((0,i.default)(t.favoriteList),(0,i.default)(e)),t.isEmpty=!t.favoriteList.length,t.lastPage=n.data.last_page,t.loadStatus=t.currentPage<n.data.last_page?"loadmore":"nomore")}))},cancelFavorite:function(){var t=this,e=this.favoriteList,n=this.selList;e=JSON.parse(JSON.stringify(e)),t.$http("goods.favorite",{goods_ids:n}).then((function(o){1===o.code&&(t.isAllSel?(t.favoriteList=[],t.isEmpty=!0):(t.favoriteList=e.filter((function(t){return!n.includes(t.goods_id)})),t.total=t.favoriteList.length))}))}}};e.default=a}},[["70f4","common/runtime","common/vendor"]]]);
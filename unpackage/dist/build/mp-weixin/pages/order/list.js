(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/order/list"],{"04a3":function(t,e,r){"use strict";var n=r("831d"),o=r.n(n);o.a},1920:function(t,e,r){"use strict";(function(t){var n=r("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r("af34")),a={components:{},data:function(){return{isEmpty:!1,loadStatus:"loadmore",currentPage:1,lastPage:1,orderType:"all",orderList:[],orderState:[{id:0,title:"全部",type:"all"},{id:1,title:"待付款",type:"nopay"},{id:2,title:"待发货",type:"nosend"},{id:3,title:"待收货",type:"noget"},{id:4,title:"待评价",type:"nocomment"}]}},onShow:function(){this.$Route.query.type&&(this.orderType=this.$Route.query.type),this.orderList=[],this.currentPage=1,this.lastPage=1,this.getOrderList()},methods:{jump:function(t,e){this.$Router.push({path:t,query:e})},onNav:function(t){this.orderType!==t&&(this.orderType=t,this.orderList=[],this.currentPage=1,this.lastPage=1,this.getOrderList())},getOrderList:function(){var t=this;t.loadStatus="loading",t.$http("order.index",{type:t.orderType,page:t.currentPage},"加载中...").then((function(e){1===e.code&&(t.orderList=[].concat((0,o.default)(t.orderList),(0,o.default)(e.data.data)),t.isEmpty=!t.orderList.length,t.lastPage=e.data.last_page,t.loadStatus=t.currentPage<e.data.last_page?"loadmore":"nomore")}))},loadMore:function(){this.currentPage<this.lastPage&&(this.currentPage+=1,this.getOrderList())},onDelete:function(e,r){var n=this;t.showModal({title:"删除订单",content:"确定要删除这个订单么？",cancelText:"取消",confirmText:"删除",success:function(t){t.confirm&&n.$http("order.deleteOrder",{id:e},"删除中...").then((function(t){1===t.code&&(n.$u.toast(t.msg),n.orderList.splice(r,1))}))}})},onCancel:function(t,e){var r=this,n=this;n.$http("order.cancel",{id:t},"取消中...").then((function(t){1===t.code&&(n.$u.toast(t.msg),r.orderList.splice(e,1))}))},onPay:function(e){t.navigateTo({url:"/pages/order/payment/method?orderId=".concat(e,"&orderType=goods")})},onExpress:function(t){var e=this,r=this;r.$http("order.expressList",{order_id:t}).then((function(n){1===n.code&&(1==n.data.length?e.jump("/pages/order/express/express-detail",{orderId:t,expressId:n.data[0].id}):n.data.length>1?e.jump("/pages/order/express/express-list",{orderId:t}):r.$u.toast("暂无包裹~"))}))}}};e.default=a}).call(this,r("df3c")["default"])},"4d3e":function(t,e,r){"use strict";r.d(e,"b",(function(){return o})),r.d(e,"c",(function(){return a})),r.d(e,"a",(function(){return n}));var n={shoproMiniCard:function(){return r.e("components/shopro-mini-card/shopro-mini-card").then(r.bind(null,"b3a4"))},shoproEmpty:function(){return r.e("components/shopro-empty/shopro-empty").then(r.bind(null,"2400"))},uLoadmore:function(){return r.e("node-modules/uview-ui/components/u-loadmore/u-loadmore").then(r.bind(null,"417c"))}},o=function(){var t=this,e=t.$createElement,r=(t._self._c,t.__map(t.orderList,(function(e,r){var n=t.__get_orig(e),o=e.btns.length;return{$orig:n,g0:o}}))),n=t.orderList.length;t.$mp.data=Object.assign({},{$root:{l0:r,g1:n}})},a=[]},"58ac":function(t,e,r){"use strict";(function(t,e){var n=r("47a9");r("7ea0");n(r("3240"));var o=n(r("c4ce"));t.__webpack_require_UNI_MP_PLUGIN__=r,e(o.default)}).call(this,r("3223")["default"],r("df3c")["createPage"])},"6b97":function(t,e,r){"use strict";r.r(e);var n=r("1920"),o=r.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){r.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},"831d":function(t,e,r){},c4ce:function(t,e,r){"use strict";r.r(e);var n=r("4d3e"),o=r("6b97");for(var a in o)["default"].indexOf(a)<0&&function(t){r.d(e,t,(function(){return o[t]}))}(a);r("04a3");var i=r("828b"),s=Object(i["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=s.exports}},[["58ac","common/runtime","common/vendor"]]]);
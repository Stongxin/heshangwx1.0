(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/order/express/store-address"],{"60f6":function(t,e,o){"use strict";(function(t){var a=o("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(o("af34")),r={data:function(){return{longitude:0,latitude:0,mapHeight:0,showCard:!1,moveCard:"dragLayer-bottom",distance:0,storeId:0,addressList:[],storeInfo:[],weekMap:{1:"周一",2:"周二",3:"周三",4:"周四",5:"周五",6:"周六",7:"周日"},loadStatus:"loadmore",currentPage:1,lastPage:1,searchVal:""}},computed:{},onLoad:function(t){this.latitude=this.$Route.query.lat,this.longitude=this.$Route.query.lng,this.storeId=this.$Route.query.storeId,this.getStoreAddress()},onReady:function(){this.editHeight()},methods:{onSave:function(){this.storeId?(t.$emit("SELECT_STORE",{storeInfo:JSON.stringify(this.storeInfo)}),this.$Router.back()):this.$u.toast("请选择门店")},onSearch:function(){this.addressList=[],this.$u.debounce(this.getStoreAddress())},clearSearch:function(){this.searchVal="",this.onSearch()},editHeight:function(){var e=this,o=this;t.getSystemInfo({success:function(a){var n=t.createSelectorQuery().in(e).select(".dragLayer");n.fields({size:!0,scrollOffset:!0},(function(t){o.mapHeight=a.windowHeight-t.height})).exec()}})},onMap:function(){this.showCard=!1,this.moveCard="dragLayer-bottom"},selStoreAddress:function(t,e){this.storeId=t,this.latitude=this.addressList[e].latitude,this.longitude=this.addressList[e].longitude,this.storeInfo=this.addressList[e]},loadMore:function(){this.currentPage<this.lastPage&&(this.currentPage+=1,this.getStoreAddress())},getStoreAddress:function(){var t=this,e=this;e.loadStatus="loading",e.$http("goods.storeAddress",{id:e.$Route.query.goodsId,latitude:e.$Route.query.lat,longitude:e.$Route.query.lng,keyword:e.searchVal,page:e.currentPage,per_page:3}).then((function(o){1==o.code&&(e.addressList=[].concat((0,n.default)(e.addressList),(0,n.default)(o.data.data)),e.lastPage=o.data.last_page,e.loadStatus=e.currentPage<o.data.last_page?"loadmore":"nomore",1===t.currentPage&&(t.storeId=o.data.data[0].id,t.storeInfo=o.data.data[0]))}))},onShowCard:function(){this.showCard=!this.showCard,this.moveCard=this.showCard?"dragLayer-top":"dragLayer-bottom"}}};e.default=r}).call(this,o("df3c")["default"])},"66ed":function(t,e,o){},c743:function(t,e,o){"use strict";o.r(e);var a=o("60f6"),n=o.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){o.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},d6a9:function(t,e,o){"use strict";o.d(e,"b",(function(){return n})),o.d(e,"c",(function(){return r})),o.d(e,"a",(function(){return a}));var a={shoproNavbar:function(){return o.e("components/shopro-navbar/shopro-navbar").then(o.bind(null,"9733"))},uSearch:function(){return o.e("node-modules/uview-ui/components/u-search/u-search").then(o.bind(null,"dbf77"))},uRadioGroup:function(){return Promise.all([o.e("common/vendor"),o.e("node-modules/uview-ui/components/u-radio-group/u-radio-group")]).then(o.bind(null,"ea25"))},uRadio:function(){return o.e("node-modules/uview-ui/components/u-radio/u-radio").then(o.bind(null,"bb30"))},uLoadmore:function(){return o.e("node-modules/uview-ui/components/u-loadmore/u-loadmore").then(o.bind(null,"417c"))}},n=function(){var t=this.$createElement,e=(this._self._c,this.addressList.length);this.$mp.data=Object.assign({},{$root:{g0:e}})},r=[]},eb4d:function(t,e,o){"use strict";var a=o("66ed"),n=o.n(a);n.a},f086:function(t,e,o){"use strict";(function(t,e){var a=o("47a9");o("7ea0");a(o("3240"));var n=a(o("f8f1"));t.__webpack_require_UNI_MP_PLUGIN__=o,e(n.default)}).call(this,o("3223")["default"],o("df3c")["createPage"])},f8f1:function(t,e,o){"use strict";o.r(e);var a=o("d6a9"),n=o("c743");for(var r in n)["default"].indexOf(r)<0&&function(t){o.d(e,t,(function(){return n[t]}))}(r);o("eb4d");var s=o("828b"),i=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=i.exports}},[["f086","common/runtime","common/vendor"]]]);
(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/order/express/distribution-detail"],{"0c1e":function(e,t,o){"use strict";o.d(t,"b",(function(){return r})),o.d(t,"c",(function(){return a})),o.d(t,"a",(function(){return n}));var n={shoproMiniCard:function(){return o.e("components/shopro-mini-card/shopro-mini-card").then(o.bind(null,"b3a4"))},uPopup:function(){return o.e("node-modules/uview-ui/components/u-popup/u-popup").then(o.bind(null,"e07b"))}},r=function(){var e=this,t=e.$createElement,o=(e._self._c,"selfetch"==e.expressType&&"refund_finish"!==e.itemDetail.status_code&&e.qrcodeList.length);e._isMounted||(e.e0=function(t){e.showQrcode=!1}),e.$mp.data=Object.assign({},{$root:{g0:o}})},a=[]},"357a":function(e,t,o){"use strict";var n=o("f3ea"),r=o.n(n);r.a},"4df8":function(e,t,o){"use strict";o.r(t);var n=o("843d"),r=o.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){o.d(t,e,(function(){return n[e]}))}(a);t["default"]=r.a},"79c0":function(e,t,o){"use strict";o.r(t);var n=o("0c1e"),r=o("4df8");for(var a in r)["default"].indexOf(a)<0&&function(e){o.d(t,e,(function(){return r[e]}))}(a);o("357a");var s=o("828b"),i=Object(s["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);t["default"]=i.exports},"7cef":function(e,t,o){"use strict";(function(e,t){var n=o("47a9");o("7ea0");n(o("3240"));var r=n(o("79c0"));e.__webpack_require_UNI_MP_PLUGIN__=o,t(r.default)}).call(this,o("3223")["default"],o("df3c")["createPage"])},"843d":function(e,t,o){"use strict";(function(e){var n=o("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(o("7eb4")),a=n(o("ee10")),s=n(o("40ee")),i=o("6979"),c={components:{},data:function(){return{poster:{},canvasId:"qrcode_img",qrcode:"",qrcodeList:[],storeInfo:{},qrcodepath:"",allqrcodepath:"",autosendList:[],itemDetail:{},expressType:"express",barTitle:{express:"物流快递",selfetch:"到店/自提",store:"商家配送",autosend:"自动发货"},showQrcode:!1}},computed:{},onLoad:function(){this.expressType=this.$Route.query.expressType,e.setNavigationBarTitle({title:this.barTitle[this.expressType]}),this.getItemGoodsDetail()},onPullDownRefresh:function(){this.getItemGoodsDetail()},methods:{jump:function(e,t){this.$Router.push({path:e,query:t})},openStoreMap:function(){e.openLocation({latitude:+this.storeInfo.latitude,longitude:+this.storeInfo.longitude,success:function(){console.log("success")},fail:function(e){console.log(e)}})},onService:function(){this.$tools.callPhone(this.itemDetail.store.phone)},checkCode:function(e){var t=this;this.qrcode=e,this.shareFc("qrcode").then((function(e){t.showQrcode=!0}))},getItemGoodsDetail:function(){var t=this;t.$http("order.itemDetail",{id:t.$Route.query.orderId,order_item_id:t.$Route.query.orderItemId,type:"dispatch"}).then((function(o){e.stopPullDownRefresh(),1===o.code&&(t.itemDetail=o.data,t.qrcodeList=o.data.verify,t.storeInfo=o.data.store,o.data.ext_arr.autosend_content&&"params"==o.data.ext_arr.autosend_type&&(t.autosendList=JSON.parse(o.data.ext_arr.autosend_content)),"selfetch"==t.expressType&&(t.qrcode=encodeURIComponent("all:"+t.$Route.query.orderId+"-"+t.$Route.query.orderItemId),t.qrcodeList.length&&t.shareFc()))}))},shareFc:function(e){var t=this;return(0,a.default)(r.default.mark((function o(){var n;return r.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return t,o.prev=1,console.log("准备生成:"+new Date),o.next=5,(0,i.getSharePoster)({_this:t,posterCanvasId:t.canvasId,delayTimeScale:20,drawDelayTime:500,background:{width:100,height:100,backgroundColor:"#fff"},drawArray:function(e){var o=e.bgObj;e.type,e.bgScale;return new Promise((function(e,n){e([{type:"qrcode",text:t.qrcode,size:o.width,dx:0,dy:0,correctLevel:1}])}))},setCanvasWH:function(e){var o=e.bgObj;e.type,e.bgScale;t.poster=o}});case 5:n=o.sent,"qrcode"==e?t.qrcodepath=n.poster.tempFilePath:t.allqrcodepath=n.poster.tempFilePath,o.next=13;break;case 9:o.prev=9,o.t0=o["catch"](1),s.default.hideLoading(),s.default.showToast(JSON.stringify(o.t0));case 13:case"end":return o.stop()}}),o,null,[[1,9]])})))()}}};t.default=c}).call(this,o("df3c")["default"])},f3ea:function(e,t,o){}},[["7cef","common/runtime","common/vendor"]]]);
(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/components/sh-category-tabs"],{"69bb":function(t,e,i){"use strict";var n=i("f705"),s=i.n(n);s.a},b3b6:function(t,e,i){"use strict";i.r(e);var n=i("e4e9"),s=i("dbd4");for(var o in s)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return s[t]}))}(o);i("69bb");var r=i("828b"),a=Object(r["a"])(s["default"],n["b"],n["c"],!1,null,"45992578",null,!1,n["a"],void 0);e["default"]=a.exports},b711:function(t,e,i){"use strict";(function(t){var n=i("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=n(i("7eb4")),o=n(i("af34")),r=n(i("ee10")),a=t.getSystemInfoSync(),u=(t.getMenuButtonBoundingClientRect(),{components:{shGoodsCard:function(){i.e("pages/index/components/sh-goods-card").then(function(){return resolve(i("47a3"))}.bind(null,i)).catch(i.oe)}},data:function(){var t;return{fixed:!1,height:"auto",elClass:this.$u.guid(),left:0,width:"auto",stickyTop:0,isSticky:!1,addTime:100,leftHeight:0,rightHeight:0,leftList:[],rightList:[],tempList:[],tabCur:0,scrollLeft:0,isEmpty:!0,categoryId:null===(t=this.tabsList[0])||void 0===t?void 0:t.id,goodsList:[],tabCurrent:0,loadStatus:"loadmore",currentPage:1,lastPage:1}},watch:{enable:function(t){0==t?(this.fixed=!1,this.disconnectObserver("contentObserver")):this.initObserver()}},props:{tabsList:{type:Array,default:function(){return[]}},styleType:{type:[String,Number],default:1},enable:{type:Boolean,default:!1}},created:function(){var e=this;this.getGoodsList(),t.$on("uOnReachBottom",(function(t){e.currentPage<e.lastPage&&(e.currentPage+=1,e.getGoodsList())}))},mounted:function(){this.initObserver()},beforeDestroy:function(){this.disconnectObserver("contentObserver")},methods:{splitData:function(){var t=this;return(0,r.default)(s.default.mark((function e(){var i;return s.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.tempList.length){e.next=2;break}return e.abrupt("return");case 2:if(i=t.tempList[0],i){e.next=5;break}return e.abrupt("return");case 5:t.leftHeight<t.rightHeight?(t.leftHeight+=i.activity_discounts_tags.length?350:330,t.leftList.push(i)):t.leftHeight>t.rightHeight?(t.rightHeight+=i.activity_discounts_tags.length?350:330,t.rightList.push(i)):(t.leftHeight+=i.activity_discounts_tags.length?350:330,t.leftList.push(i)),t.tempList.splice(0,1),t.tempList.length&&setTimeout((function(){t.splitData()}),t.addTime);case 8:case"end":return e.stop()}}),e)})))()},clear:function(){this.leftList=[],this.rightList=[],this.leftHeight=0,this.rightHeight=0,this.tempList=[]},initObserver:function(){var t=this;if(this.enable){var e="ios"==a.platform?44:48;a.statusBarHeight;this.stickyTop=a.statusBarHeight+e,this.disconnectObserver("contentObserver"),this.$uGetRect("."+this.elClass).then((function(e){t.height=e.height,t.left=e.left,t.width=e.width,t.$nextTick((function(){t.observeContent()}))}))}},observeContent:function(){var t=this;this.disconnectObserver("contentObserver");var e=this.createIntersectionObserver({thresholds:[.95,.98,1]});e.relativeToViewport({top:-this.stickyTop}),e.observe("."+this.elClass,(function(e){t.enable&&t.setFixed(e.boundingClientRect.top)})),this.contentObserver=e},setFixed:function(t){var e=t<this.stickyTop;e?this.isSticky=!0:this.fixed&&(this.isSticky=!1),this.fixed=e},disconnectObserver:function(t){var e=this[t];e&&e.disconnect()},getGoodsList:function(){var t=this;t.$http("goods.lists",{category_id:t.categoryId,page:t.currentPage}).then((function(e){1===e.code&&(t.goodsList=[].concat((0,o.default)(t.goodsList),(0,o.default)(e.data.data)),t.tempList=e.data.data,t.isEmpty=!t.goodsList.length,t.lastPage=e.data.last_page,t.loadStatus=t.currentPage<e.data.last_page?"loadmore":"nomore",t.splitData())}))},tabChange:function(t){this.tabCur=t,this.scrollLeft=60*(t-1),this.categoryId=this.tabsList[t].id,1===this.styleType&&this.clear(),this.goodsList=[],this.currentPage=1,this.lastPage=1,this.loadStatus="loadmore",this.getGoodsList()}}});e.default=u}).call(this,i("df3c")["default"])},dbd4:function(t,e,i){"use strict";i.r(e);var n=i("b711"),s=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=s.a},e4e9:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={shoproGoodsCard:function(){return Promise.all([i.e("common/vendor"),i.e("components/shopro-goods-card/shopro-goods-card")]).then(i.bind(null,"0dd2"))},shoproEmpty:function(){return i.e("components/shopro-empty/shopro-empty").then(i.bind(null,"2400"))},uLoadmore:function(){return i.e("node-modules/uview-ui/components/u-loadmore/u-loadmore").then(i.bind(null,"417c"))}},s=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e,i){var n=arguments[arguments.length-1].currentTarget.dataset,s=n.eventParams||n["event-params"];i=s.leftGoods;return t.$Router.push({path:"/pages/goods/detail",query:{id:i.id}})},t.e1=function(e,i){var n=arguments[arguments.length-1].currentTarget.dataset,s=n.eventParams||n["event-params"];i=s.rightGoods;return t.$Router.push({path:"/pages/goods/detail",query:{id:i.id}})},t.e2=function(e,i){var n=arguments[arguments.length-1].currentTarget.dataset,s=n.eventParams||n["event-params"];i=s.item;return t.$Router.push({path:"/pages/goods/detail",query:{id:i.id}})})},o=[]},f705:function(t,e,i){}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pages/index/components/sh-category-tabs-create-component',
    {
        'pages/index/components/sh-category-tabs-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('df3c')['createComponent'](__webpack_require__("b3b6"))
        })
    },
    [['pages/index/components/sh-category-tabs-create-component']]
]);

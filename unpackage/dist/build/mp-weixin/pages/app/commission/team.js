(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/app/commission/team"],{"164d":function(e,t,n){"use strict";(function(e,t){var a=n("47a9");n("7ea0");a(n("3240"));var r=a(n("2ad6"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(r.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},2956:function(e,t,n){"use strict";var a=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("af34")),i=a(n("7ca3")),o=n("8f59");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={components:{shCollapseItem:function(){n.e("pages/app/components/sh-collapse-item").then(function(){return resolve(n("6423"))}.bind(null,n)).catch(n.oe)}},data:function(){return{isEmpty:!1,referrerInfo:{},twoTeamCount:0,teamList:[],loadStatus:"loadmore",currentPage:1,lastPage:1,childrenTeamList:[],childrenCurrentPage:1,childrenLastPage:1,childrenLoad:!1,isRefresh:!1}},computed:c({},(0,o.mapGetters)(["userInfo","agentInfo"])),onLoad:function(){this.getTeam(),this.getAgent()},methods:c(c({},(0,o.mapActions)(["getAgent"])),{},{onTeamList:function(e,t){this.childrenTeamList=[],this.childrenCurrentPage=1,this.childrenLastPage=1,this.childrenLoad=!1,this.isRefresh=!1,!this.teamList[t].isUnfold&&this.teamList[t].child_user_count_1&&this.getChildrenTeam(e),this.teamList.map((function(e,n){n===t?e.isUnfold?e.isUnfold=!1:e.isUnfold=!0:e.isUnfold=!1}))},getTeam:function(){var e=this;e.loadStatus="loadmore",e.$http("commission.team",{page:e.currentPage}).then((function(t){if(1===t.code){e.referrerInfo=t.data.parent_user;var n=t.data.teams.data;n.map((function(e){e.isUnfold=!1})),e.teamList=[].concat((0,r.default)(e.teamList),(0,r.default)(n)),e.isEmpty=!e.teamList.length,e.lastPage=t.data.teams.last_page,e.loadStatus=e.currentPage<t.data.teams.last_page?"loadmore":"nomore"}}))},getChildrenTeam:function(e){var t=this;t.$http("commission.team",{id:e,page:t.childrenCurrentPage},"加载中...").then((function(e){1===e.code&&(t.childrenTeamList=[].concat((0,r.default)(t.childrenTeamList),(0,r.default)(e.data.teams.data)),t.childrenLastPage=e.data.teams.last_page,t.childrenLoad=t.childrenCurrentPage<e.data.teams.last_page)}))},childrenLoadMore:function(e){this.isRefresh||this.childrenCurrentPage<this.childrenLastPage&&(this.isRefresh=!0,this.childrenCurrentPage+=1,this.getChildrenTeam(e))},loadMore:function(){this.currentPage<this.lastPage&&(this.currentPage+=1,this.getTeam())}})};t.default=u},"2ad6":function(e,t,n){"use strict";n.r(t);var a=n("d383"),r=n("4dde");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("ff9c");var o=n("828b"),s=Object(o["a"])(r["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);t["default"]=s.exports},"4dde":function(e,t,n){"use strict";n.r(t);var a=n("2956"),r=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=r.a},ce9c:function(e,t,n){},d383:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a}));var a={shoproNavbar:function(){return n.e("components/shopro-navbar/shopro-navbar").then(n.bind(null,"9733"))},shoproEmpty:function(){return n.e("components/shopro-empty/shopro-empty").then(n.bind(null,"2400"))},uLoadmore:function(){return n.e("node-modules/uview-ui/components/u-loadmore/u-loadmore").then(n.bind(null,"417c"))}},r=function(){var e=this,t=e.$createElement,n=(e._self._c,e.childrenTeamList.length),a=e.__map(e.teamList,(function(t,a){var r=e.__get_orig(t),i=n?e.__map(e.childrenTeamList,(function(t,n){var a=e.__get_orig(t),r=e.$u.timeFormat(t.createtime,"yyyy年mm月dd日");return{$orig:a,g1:r}})):null;return{$orig:r,l0:i}})),r=e.teamList.length;e.$mp.data=Object.assign({},{$root:{a0:{},g0:n,l1:a,g2:r}})},i=[]},ff9c:function(e,t,n){"use strict";var a=n("ce9c"),r=n.n(a);r.a}},[["164d","common/runtime","common/vendor"]]]);